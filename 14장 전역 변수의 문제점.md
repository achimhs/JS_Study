# [22/08/09] 14ì¥ ì „ì—­ ë³€ìˆ˜ì˜ ë¬¸ì œì 

ì „ì—­ ë³€ìˆ˜ì˜ ë¬´ë¶„ë³„í•œ ì‚¬ìš©ì€ ìœ„í—˜í•˜ë‹¤.

## 1. ë³€ìˆ˜ì˜ ìƒëª… ì£¼ê¸°

### 1-1. ì§€ì—­ ë³€ìˆ˜ì˜ ìƒëª… ì£¼ê¸°

- (ì „ì—­ ë³€ìˆ˜ í•œì •) ë³€ìˆ˜ í˜¸ì´ìŠ¤íŒ…ì—ì„œì˜ ë³€ìˆ˜ ì„ ì–¸ì€ ì„ ì–¸ë¬¸ì´ ì–´ë””ì— ìˆë“  ìƒê´€ ì—†ì´ `ê°€ì¥ ë¨¼ì €` ì‹¤í–‰ëœë‹¤. ì¦‰, `ëŸ°íƒ€ì„ ì´ì „` ë‹¨ê³„ì—ì„œ jsì—”ì§„ì— ì˜í•´ ë¨¼ì € ì‹¤í–‰ëœë‹¤.
- (ì§€ì—­ ë³€ìˆ˜) `í•¨ìˆ˜ ë‚´ë¶€`ì—ì„œ ì„ ì–¸í•œ ë³€ìˆ˜ëŠ” í•¨ìˆ˜ê°€ í˜¸ì¶œëœ `ì§í›„` í•¨ìˆ˜ ëª¸ì²´ì˜ ì½”ë“œê°€ í•œ ì¤„ì”© ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ê¸° `ì´ì „ì—` `ë³€ìˆ˜ì˜ ì„ ì–¸ë¬¸`ì´ ê°€ì¥ ë¨¼ì € ì‹¤í–‰ë˜ê³  `undefined`ë¡œ ì´ˆê¸°í™”ëœë‹¤. ê·¸ ë‹¤ìŒì— ë³€ìˆ˜ì˜ `ê°’ì´ í• ë‹¹`ëœë‹¤.

- ë³´í†µ ì§€ì—­ ë³€ìˆ˜ì˜ ìƒëª… ì£¼ê¸°ì™€ í•¨ìˆ˜ì˜ ìƒëª… ì£¼ê¸°ëŠ” ì¼ì¹˜í•˜ì§€ë§Œ, ì§€ì—­ë³€ìˆ˜ê°€ í•¨ìˆ˜ë³´ë‹¤ ì˜¤ë˜ ìƒì¡´í•˜ëŠ” ê²½ìš°ë„ ìˆë‹¤. ì•„ë˜ì™€ ê°™ì€ ê²½ìš°ì´ë‹¤(í´ë¡œì €)

```javascript
function foo() {
  var x = 10;
  function bar() {
    console.log(x);
  }
  return bar;
}
var bar = foo(); // ì´ë¯¸ fooí•¨ìˆ˜ëŠ” í˜¸ì¶œë˜ì–´ barí•¨ìˆ˜ë¥¼ ë¦¬í„´í•˜ê³  ëë‚¬ì§€ë§Œ
// ì•„ë˜ì—ì„œ bar í•¨ìˆ˜ë¥¼ ë¦¬í„´ë°›ì•„ í˜¸ì¶œí•´ë„ xê°€ ì˜ ì°¸ì¡°ë˜ì–´ 10ì´ ì¶œë ¥ëœë‹¤.
bar(); // 10
```

í˜¸ì´ìŠ¤íŒ…ì€ `ìŠ¤ì½”í”„ë¥¼ ë‹¨ìœ„`ë¡œ ë™ì‘í•œë‹¤.

### 1-2. ì „ì—­ ë³€ìˆ˜ì˜ ìƒëª… ì£¼ê¸°

- í•¨ìˆ˜ì™€ ë‹¬ë¦¬ ì „ì—­ ì½”ë“œëŠ” `ëª…ì‹œì ì¸ í˜¸ì¶œì—†ì´` ì‹¤í–‰ëœë‹¤. ì¦‰, í•¨ìˆ˜ í˜¸ì¶œê³¼ ê°™ì´ ì „ì—­ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ì§„ì…ì ì´ ì—†ê³  ì½”ë“œê°€ ë¡œë“œë˜ìë§ˆë§ˆ `ê³§ë°”ë¡œ` í•´ì„ë˜ê³  ì‹¤í–‰ëœë‹¤.
- varí‚¤ì›Œë“œë¡œ ì„ ì–¸í•œ ì „ì—­ ë³€ìˆ˜ëŠ” `ì „ì—­ ê°ì²´`ì˜ í”„ë¡œí¼í‹°ê°€ ëœë‹¤. ì´ëŠ” ì „ì—­ ë³€ìˆ˜ì˜ ìƒëª… ì£¼ê¸°ëŠ” ì „ì—­ ê°ì²´ì˜ ìƒëª… ì£¼ê¸°ì™€ ì¼ì¹˜í•œë‹¤ëŠ” ê²ƒì´ë‹¤.
- ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œëŠ” `windowê°€ ì „ì—­ ê°ì²´`ì´ë¯€ë¡œ varí‚¤ì›Œë“œë¡œ ì„ ì–¸í•œ ì „ì—­ ë³€ìˆ˜ëŠ” windowê°ì²´ì˜ í”„ë¡œí¼í‹°ì´ë‹¤. ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œëŠ” varí‚¤ì›Œë“œë¡œ ì„ ì–¸í•œ ì „ì—­ ë³€ìˆ˜ëŠ” ì›¹í˜ì´ì§€ë¥¼ ë‹«ì„ ë•Œê¹Œì§€ ìœ íš¨í•˜ë‹¤.

## 2. ì „ì—­ ë³€ìˆ˜ì˜ ë¬¸ì œì 

- `ì•”ë¬µì  ê²°í•©`: ëª¨ë“  ì½”ë“œê°€ ì „ì—­ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ê³  ë³€ê²½í•  ìˆ˜ ìˆëŠ” ê²ƒ â¡ï¸ ê°€ë…ì„± ë‚˜ë¹ ì§
- `ê¸´ ìƒëª… ì£¼ê¸°`: ì „ì—­ ë³€ìˆ˜ì˜ ìƒëª… ì£¼ê¸°ê°€ ê¸¸ë‹¤. â¡ï¸ ë©”ëª¨ë¦¬ ì˜¤ë˜ ì†Œë¹„, ì˜ë„ì¹˜ ì•Šì€ ì¬í• ë‹¹
- `ìŠ¤ì½”í”„ ì²´ì¸ ìƒì—ì„œ ì¢…ì ì— ì¡´ì¬`: ë§ˆì§€ë§‰ì— ê²€ìƒ‰ â¡ï¸ ì „ì—­ ë³€ìˆ˜ì˜ ê²€ìƒ‰ ì†ë„ê°€ ê°€ì¥ ëŠë¦¬ë‹¤.
- `ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì˜¤ì—¼`: ë™ì¼í•œ ì´ë¦„ â¡ï¸ ì˜ˆìƒì¹˜ ëª»í•œ ê²°ê³¼

## 3. ì „ì—­ ë³€ìˆ˜ì˜ ì‚¬ìš©ì„ ì–µì œí•˜ëŠ” ë°©ë²•

### 3-1. ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜

- ëª¨ë“  ì½”ë“œë¥¼ ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ë¡œ ê°ì‹¸ë©´ `ëª¨ë“  ë³€ìˆ˜`ëŠ” `ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ì˜ ì§€ì—­ ë³€ìˆ˜`ê°€ ëœë‹¤.

```javascript
(function () {
  var foo = 10; // ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ì˜ ì§€ì—­ ë³€ìˆ˜
  // ...
})();

console.log(foo); // ReferenceError: foo is not defined
// fooëŠ” ì§€ì—­ ë³€ìˆ˜ì´ê¸° ë•Œë¬¸ì— ë°”ê¹¥ì—ì„œ ì°¸ì¡°í•  ìˆ˜ ì—†ìŒ
```

### 3-2. ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê°ì²´

- ì „ì—­ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê°ì²´ë¥¼ ë§Œë“¤ì–´ í”„ë¡œí¼í‹°ë¡œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì´ë‹¤. ì–´ì°¨í”¼ ì „ì—­ ê°ì²´ì´ê¸° ë•Œë¬¸ì— ê·¸ë‹¥ ì¢‹ì€ ë°©ë²•ì€ ì•„ë‹ˆë‹¤

```javascript
var MYAPP = {}; // ì „ì—­ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê°ì²´

MYAPP.name = "Lee";

console.log(MYAPP.name); // Lee
```

```javascript
var MYAPP = {}; // ì „ì—­ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê°ì²´

MYAPP.person = {
  name: "Lee",
  address: "Seoul",
};

console.log(MYAPP.person.name); // Lee
```

### 2-3. ëª¨ë“ˆ íŒ¨í„´

- `í´ë¡œì €`ë¥¼ í™œìš©í•´ `í´ë˜ìŠ¤ë¥¼ ëª¨ë°©`í•´ì„œ ë§Œë“  íŒ¨í„´ì´ë‹¤.
- `ì „ì—­ ë³€ìˆ˜ì˜ ì–µì œ`ì™€ `ìº¡ìŠí™”`ê¹Œì§€ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

> ğŸ’¡ìº¡ìŠí™”? ê°ì²´ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” í”„ë¡œí¼í‹°ì™€ í”„ë¡œí¼í‹°ë¥¼ ì°¸ì¡°í•˜ê³  ì¡°ì‘í•  ìˆ˜ ìˆëŠ” ë™ì‘ì¸ ë©”ì„œë“œë¥¼ í•˜ë‚˜ë¡œ ë¬¶ëŠ” ê²ƒ.
> ğŸ’¡ì •ë³´ì€ë‹‰? ê°ì²´ì˜ íŠ¹ì • í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ê°ì¶œ ëª©ì ìœ¼ë¡œ ì‚¬ìš©

```javascript
var Counter = (function () {
  // private ë³€ìˆ˜
  var num = 0;

  // ì™¸ë¶€ë¡œ ê³µê°œí•  ë°ì´í„°ë‚˜ ë©”ì„œë“œë¥¼ í”„ë¡œí¼í‹°ë¡œ ì¶”ê°€í•œ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
  return {
    increase() {
      return ++num;
    },
    decrease() {
      return --num;
    },
    getNum() {
      return num;
    },
  };
})();

// private ë³€ìˆ˜ëŠ” ì™¸ë¶€ë¡œ ë…¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤.
console.log(Counter.num); // undefined
console.log(Counter.getNum()); // 0
console.log(Counter.increase()); // 1
console.log(Counter.getNum()); // 1
console.log(Counter.increase()); // 2
console.log(Counter.getNum()); // 2
console.log(Counter.decrease()); // 1
console.log(Counter.decrease()); // 0
```

### 2-4. ES6 ëª¨ë“ˆ

- ES6 ëª¨ë“ˆì„ ì‚¬ìš©í•˜ë©´ `ì „ì—­ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.`
- ES6 ëª¨ë“ˆì€ íŒŒì¼ ìì²´ì˜ `ë…ìì ì¸ ëª¨ë“ˆ ìŠ¤ì½”í”„`ë¥¼ ì œê³µí•œë‹¤.
- ëª¨ë“ˆ ë‚´ì—ì„œ `varí‚¤ì›Œë“œ`ë¡œ ì„ ì–¸í•˜ë”ë¼ë„ ì „ì—­ ë³€ìˆ˜ê°€ ì•„ë‹ˆë©° windowê°ì²´ì˜ í”„ë¡œí¼í‹°ë„ ì•„ë‹ˆë‹¤.
- scriptíƒœê·¸ì— `type="module"`ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ì¶”ê°€í•˜ë©´ ë¡œë“œëœ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì€ ëª¨ë“ˆë¡œ ë™ì‘í•œë‹¤.

```html
<script type="module" src="lib.mjs"></script>
<script type="module" src="app.mjs"></script>
```
